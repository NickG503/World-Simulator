action: test_and_shortcircuit
object_type: tv

parameters: {}

preconditions:
  - type: attribute_check
    target: screen.power
    operator: equals
    value: on

effects:
  # AND condition: voltage is low AND wifi is on
  # If voltage is NOT low, should NOT ask about wifi (short-circuit)
  - type: conditional
    condition:
      type: and
      conditions:
        - type: attribute_check
          target: power_source.voltage
          operator: equals
          value: low
        - type: attribute_check
          target: network.wifi_connected
          operator: equals
          value: on
    then:
      - type: set_attribute
        target: screen.brightness
        value: low
    else:
      - type: set_attribute
        target: screen.brightness
        value: high
