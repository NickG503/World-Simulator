action: pour_water
object_type: kettle

parameters:
  to_level:
    type: choice
    choices: [low, mid, full]
    required: true

preconditions:
  - type: attribute_check
    target: control.power
    operator: equals
    value: off

  - type: attribute_check
    target: tank.level
    operator: lt
    value:
      type: parameter_ref
      name: to_level


effects:
  - type: set_attribute
    target: tank.level
    value:
      type: parameter_ref
      name: to_level
